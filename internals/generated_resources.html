

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>CloudFormation Resources Generated By SAM &mdash; Serverless Application Model 0.1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Serverless Application Model 0.1.0 documentation" href="../index.html"/>
        <link rel="up" title="SAM Internals" href="index.html"/>
        <link rel="next" title="FAQ" href="../faq.html"/>
        <link rel="prev" title="SAM Internals" href="index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Serverless Application Model
          

          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../globals.html">Globals Section</a></li>
<li class="toctree-l1"><a class="reference internal" href="../safe_lambda_deployments.html">Safe Lambda deployments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../policy_templates.html">Policy Templates</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">SAM Internals</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">CloudFormation Resources Generated By SAM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#aws-serverless-function">AWS::Serverless::Function</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#with-autopublishalias-property">With AutoPublishAlias Property</a></li>
<li class="toctree-l4"><a class="reference internal" href="#with-deploymentpreference-property">With DeploymentPreference Property</a></li>
<li class="toctree-l4"><a class="reference internal" href="#with-events">With Events</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#aws-serverless-api">AWS::Serverless::Api</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Serverless Application Model</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">SAM Internals</a> &raquo;</li>
        
      <li>CloudFormation Resources Generated By SAM</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/internals/generated_resources.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cloudformation-resources-generated-by-sam">
<h1>CloudFormation Resources Generated By SAM<a class="headerlink" href="#cloudformation-resources-generated-by-sam" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#aws-serverless-function" id="id1">AWS::Serverless::Function</a><ul>
<li><a class="reference internal" href="#with-autopublishalias-property" id="id2">With AutoPublishAlias Property</a></li>
<li><a class="reference internal" href="#with-deploymentpreference-property" id="id3">With DeploymentPreference Property</a></li>
<li><a class="reference internal" href="#with-events" id="id4">With Events</a><ul>
<li><a class="reference internal" href="#api" id="id5">API</a></li>
<li><a class="reference internal" href="#s3" id="id6">S3</a></li>
<li><a class="reference internal" href="#sns" id="id7">SNS</a></li>
<li><a class="reference internal" href="#kinesis" id="id8">Kinesis</a></li>
<li><a class="reference internal" href="#sqs" id="id9">SQS</a></li>
<li><a class="reference internal" href="#dynamodb" id="id10">DynamoDb</a></li>
<li><a class="reference internal" href="#schedule" id="id11">Schedule</a></li>
<li><a class="reference internal" href="#cloudwatchevent" id="id12">CloudWatchEvent</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#aws-serverless-api" id="id13">AWS::Serverless::Api</a></li>
</ul>
</div>
<p>When you create a Serverless Function or a Serverlesss API, SAM will create additional AWS resources to wire everything up.
For example, when you create a <code class="docutils literal"><span class="pre">AWS::Serverless::Function</span></code>, SAM will create a Lambda Function resource
along with an IAM Role resource to give appropriate permissions for your function. This document describes all
such generated resources, how they are named, and how to refer to them in your SAM template.</p>
<div class="section" id="aws-serverless-function">
<h2>AWS::Serverless::Function<a class="headerlink" href="#aws-serverless-function" title="Permalink to this headline">¶</a></h2>
<p>Given a Function defined as follows:</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span><span class="n">MyFunction</span><span class="p">:</span>
  <span class="n">Type</span><span class="p">:</span> <span class="n">AWS</span><span class="p">::</span><span class="n">Serverless</span><span class="p">::</span><span class="n">Function</span>
  <span class="n">Properties</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Following resources will be generated:</p>
<table border="1" class="docutils">
<colgroup>
<col width="52%" />
<col width="48%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">CloudFormation Resource Type</th>
<th class="head">Logical ID</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>AWS::Lambda::Function</td>
<td>MyFunction</td>
</tr>
<tr class="row-odd"><td>AWS::IAM::Role</td>
<td>MyFunction<strong>Role</strong></td>
</tr>
</tbody>
</table>
<div class="section" id="with-autopublishalias-property">
<h3>With AutoPublishAlias Property<a class="headerlink" href="#with-autopublishalias-property" title="Permalink to this headline">¶</a></h3>
<p>Example:</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span><span class="n">MyFunction</span><span class="p">:</span>
  <span class="n">Type</span><span class="p">:</span> <span class="n">AWS</span><span class="p">::</span><span class="n">Serverless</span><span class="p">::</span><span class="n">Function</span>
  <span class="n">Properties</span><span class="p">:</span>
    <span class="o">...</span>
    <span class="n">AutoPublishAlias</span><span class="p">:</span> <span class="n">live</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Additional generated resources:</p>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">CloudFormation Resource Type</th>
<th class="head">Logical ID</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>AWS::Lambda::Version</td>
<td>MyFunction<strong>Version</strong><em>SHA</em> (10 digits of SHA256 of CodeUri)</td>
</tr>
<tr class="row-odd"><td>AWS::Lambda::Alias</td>
<td>MyFunction<strong>Alias</strong><em>live</em></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="with-deploymentpreference-property">
<h3>With DeploymentPreference Property<a class="headerlink" href="#with-deploymentpreference-property" title="Permalink to this headline">¶</a></h3>
<p>Example:</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span><span class="n">MyFunction</span><span class="p">:</span>
  <span class="n">Type</span><span class="p">:</span> <span class="n">AWS</span><span class="p">::</span><span class="n">Serverless</span><span class="p">::</span><span class="n">Function</span>
  <span class="n">Properties</span><span class="p">:</span>
    <span class="o">...</span>
    <span class="n">AutoPublishAlias</span><span class="p">:</span> <span class="n">live</span>
    <span class="n">DeploymentPreference</span><span class="p">:</span>
      <span class="n">Type</span><span class="p">:</span> <span class="n">Linear10PercentEvery10Minutes</span>
      <span class="n">Role</span><span class="p">:</span> <span class="s2">&quot;arn&quot;</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Additional generated resources:</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">CloudFormation Resource Type</th>
<th class="head">Logical ID</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>AWS::CodeDeploy::Application</td>
<td>ServerlessDeploymentApplication (only one per stack)</td>
</tr>
<tr class="row-odd"><td>AWS::CodeDeploy::DeploymentGroup</td>
<td>MyFunction<strong>DeploymentGroup</strong></td>
</tr>
<tr class="row-even"><td>AWS::IAM::Role</td>
<td>CodeDeployServiceRole</td>
</tr>
</tbody>
</table>
<blockquote>
<div>NOTE: <code class="docutils literal"><span class="pre">AWS::IAM::Role</span></code> resources are only generated if no Role parameter is supplied for DeploymentPreference</div></blockquote>
</div>
<div class="section" id="with-events">
<h3>With Events<a class="headerlink" href="#with-events" title="Permalink to this headline">¶</a></h3>
<p>A common theme with all Events is SAM will generate a <code class="docutils literal"><span class="pre">AWS::Lambda::Permission</span></code> resource to give event source
permission to invoke the function. Other generated resources depend on the specific event type.</p>
<div class="section" id="api">
<h4>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h4>
<p>This is called an “Implicit API”. There can be many functions in the template that define these APIs. Behind the
scenes, SAM will collect all implicit APIs from all Functions in the template, generate a Swagger, and create an
implicit <code class="docutils literal"><span class="pre">AWS::Serverless::Api</span></code> using this Swagger. This API defaults to a StageName called “Prod” that cannot be
configured.</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span><span class="n">MyFunction</span><span class="p">:</span>
  <span class="n">Type</span><span class="p">:</span> <span class="n">AWS</span><span class="p">::</span><span class="n">Serverless</span><span class="p">::</span><span class="n">Function</span>
  <span class="n">Properties</span><span class="p">:</span>
    <span class="o">...</span>
    <span class="n">Events</span><span class="p">:</span>
      <span class="n">ThumbnailApi</span><span class="p">:</span>
        <span class="n">Type</span><span class="p">:</span> <span class="n">Api</span>
        <span class="n">Properties</span><span class="p">:</span>
          <span class="n">Path</span><span class="p">:</span> <span class="o">/</span><span class="n">thumbnail</span>
          <span class="n">Method</span><span class="p">:</span> <span class="n">GET</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Additional generated resources:</p>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">CloudFormation Resource Type</th>
<th class="head">Logical ID</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>AWS::ApiGateway::RestApi</td>
<td><em>ServerlessRestApi</em></td>
</tr>
<tr class="row-odd"><td>AWS::ApiGateway::Stage</td>
<td><em>ServerlessRestApi</em><strong>Prod</strong>Stage</td>
</tr>
<tr class="row-even"><td>AWS::ApiGateway::Deployment</td>
<td><em>ServerlessRestApi</em>Deployment<em>SHA</em> (10 Digits of SHA256 of Swagger)</td>
</tr>
<tr class="row-odd"><td>AWS::Lambda::Permissions</td>
<td>MyFunction<strong>ThumbnailApi</strong>Permission<strong>Prod</strong>
(Prod is the default Stage Name for implicit APIs)</td>
</tr>
</tbody>
</table>
<blockquote>
<div>NOTE: <code class="docutils literal"><span class="pre">ServerlessRestApi*</span></code> resources are generated one per stack.</div></blockquote>
</div>
<div class="section" id="s3">
<h4>S3<a class="headerlink" href="#s3" title="Permalink to this headline">¶</a></h4>
<p>Example:</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span>MyFunction:
  Type: AWS::Serverless::Function
  Properties:
    ...
    Events:
      S3Trigger:
        Type: S3
        Properties:
          Bucket: !Ref MyBucket
          Events: s3:ObjectCreated:*
    ...

MyBucket:
  Type: AWS::S3::Bucket
</pre></div>
</div>
<p>Additional generated resources:</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">CloudFormation Resource Type</th>
<th class="head">Logical ID</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>AWS::Lambda::Permissions</td>
<td>MyFunction<strong>S3Trigger</strong>Permission</td>
</tr>
<tr class="row-odd"><td>AWS::S3::Bucket</td>
<td>Existing MyBucket resource is modified to append <code class="docutils literal"><span class="pre">NotificationConfiguration</span></code>
property where the Lambda function trigger is defined</td>
</tr>
</tbody>
</table>
<blockquote>
<div><p>NOTE: You <strong>must</strong> refer to an S3 Bucket defined in the same template. This is for two reasons:</p>
<p>1. SAM needs to add a <code class="docutils literal"><span class="pre">NotificationConfiguration</span></code> property to the bucket resource by reading and modifying the
resource definition</p>
<p>2. Lambda triggers are specified as a property on the bucket resource. Since CloudFormation cannot modify a resource
created outside of the stack, this bucket needs to be defined within the template.</p>
</div></blockquote>
</div>
<div class="section" id="sns">
<h4>SNS<a class="headerlink" href="#sns" title="Permalink to this headline">¶</a></h4>
<p>Example:</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span><span class="n">MyFunction</span><span class="p">:</span>
  <span class="n">Type</span><span class="p">:</span> <span class="n">AWS</span><span class="p">::</span><span class="n">Serverless</span><span class="p">::</span><span class="n">Function</span>
  <span class="n">Properties</span><span class="p">:</span>
    <span class="o">...</span>
    <span class="n">Events</span><span class="p">:</span>
      <span class="n">MyTrigger</span><span class="p">:</span>
        <span class="n">Type</span><span class="p">:</span> <span class="n">SNS</span>
        <span class="n">Properties</span><span class="p">:</span>
          <span class="n">Topic</span><span class="p">:</span> <span class="n">arn</span><span class="p">:</span><span class="n">aws</span><span class="p">:</span><span class="n">sns</span><span class="p">:</span><span class="n">us</span><span class="o">-</span><span class="n">east</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="mi">123456789012</span><span class="p">:</span><span class="n">my_topic</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Additional generated resources:</p>
<table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">CloudFormation Resource Type</th>
<th class="head">Logical ID</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>AWS::Lambda::Permissions</td>
<td>MyFunction<strong>MyTrigger</strong>Permission</td>
</tr>
<tr class="row-odd"><td>AWS::SNS::Subscription</td>
<td>MyFunction<strong>MyTrigger</strong></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="kinesis">
<h4>Kinesis<a class="headerlink" href="#kinesis" title="Permalink to this headline">¶</a></h4>
<p>Example:</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span><span class="n">MyFunction</span><span class="p">:</span>
  <span class="n">Type</span><span class="p">:</span> <span class="n">AWS</span><span class="p">::</span><span class="n">Serverless</span><span class="p">::</span><span class="n">Function</span>
  <span class="n">Properties</span><span class="p">:</span>
    <span class="o">...</span>
    <span class="n">Events</span><span class="p">:</span>
      <span class="n">MyTrigger</span><span class="p">:</span>
        <span class="n">Type</span><span class="p">:</span> <span class="n">Kinesis</span>
        <span class="n">Properties</span><span class="p">:</span>
          <span class="n">Stream</span><span class="p">:</span> <span class="n">arn</span><span class="p">:</span><span class="n">aws</span><span class="p">:</span><span class="n">kinesis</span><span class="p">:</span><span class="n">us</span><span class="o">-</span><span class="n">east</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="mi">123456789012</span><span class="p">:</span><span class="n">stream</span><span class="o">/</span><span class="n">my</span><span class="o">-</span><span class="n">stream</span>
          <span class="n">StartingPosition</span><span class="p">:</span> <span class="n">TRIM_HORIZON</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Additional generated resources:</p>
<table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">CloudFormation Resource Type</th>
<th class="head">Logical ID</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>AWS::Lambda::Permissions</td>
<td>MyFunction<strong>MyTrigger</strong>Permission</td>
</tr>
<tr class="row-odd"><td>AWS::Lambda::EventSourceMapping</td>
<td>MyFunction<strong>MyTrigger</strong></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sqs">
<h4>SQS<a class="headerlink" href="#sqs" title="Permalink to this headline">¶</a></h4>
<p>Example:</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span><span class="n">MyFunction</span><span class="p">:</span>
  <span class="n">Type</span><span class="p">:</span> <span class="n">AWS</span><span class="p">::</span><span class="n">Serverless</span><span class="p">::</span><span class="n">Function</span>
  <span class="n">Properties</span><span class="p">:</span>
    <span class="o">...</span>
    <span class="n">Events</span><span class="p">:</span>
      <span class="n">MyTrigger</span><span class="p">:</span>
        <span class="n">Type</span><span class="p">:</span> <span class="n">SQS</span>
        <span class="n">Properties</span><span class="p">:</span>
          <span class="n">Queue</span><span class="p">:</span> <span class="n">arn</span><span class="p">:</span><span class="n">aws</span><span class="p">:</span><span class="n">sqs</span><span class="p">:</span><span class="n">us</span><span class="o">-</span><span class="n">east</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="mi">123456789012</span><span class="p">:</span><span class="n">my</span><span class="o">-</span><span class="n">queue</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Additional generated resources:</p>
<table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">CloudFormation Resource Type</th>
<th class="head">Logical ID</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>AWS::Lambda::Permissions</td>
<td>MyFunction<strong>MyTrigger</strong>Permission</td>
</tr>
<tr class="row-odd"><td>AWS::Lambda::EventSourceMapping</td>
<td>MyFunction<strong>MyTrigger</strong></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="dynamodb">
<h4>DynamoDb<a class="headerlink" href="#dynamodb" title="Permalink to this headline">¶</a></h4>
<p>Example:</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span><span class="n">MyFunction</span><span class="p">:</span>
  <span class="n">Type</span><span class="p">:</span> <span class="n">AWS</span><span class="p">::</span><span class="n">Serverless</span><span class="p">::</span><span class="n">Function</span>
  <span class="n">Properties</span><span class="p">:</span>
    <span class="o">...</span>
    <span class="n">Events</span><span class="p">:</span>
      <span class="n">MyTrigger</span><span class="p">:</span>
        <span class="n">Type</span><span class="p">:</span> <span class="n">DynamoDb</span>
        <span class="n">Properties</span><span class="p">:</span>
          <span class="n">Stream</span><span class="p">:</span> <span class="n">arn</span><span class="p">:</span><span class="n">aws</span><span class="p">:</span><span class="n">dynamodb</span><span class="p">:</span><span class="n">us</span><span class="o">-</span><span class="n">east</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="mi">123456789012</span><span class="p">:</span><span class="n">table</span><span class="o">/</span><span class="n">TestTable</span><span class="o">/</span><span class="n">stream</span><span class="o">/</span><span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">11</span><span class="n">T21</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="mf">33.291</span>
          <span class="n">StartingPosition</span><span class="p">:</span> <span class="n">TRIM_HORIZON</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Additional generated resources:</p>
<table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">CloudFormation Resource Type</th>
<th class="head">Logical ID</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>AWS::Lambda::Permissions</td>
<td>MyFunction<strong>MyTrigger</strong>Permission</td>
</tr>
<tr class="row-odd"><td>AWS::Lambda::EventSourceMapping</td>
<td>MyFunction<strong>MyTrigger</strong></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="schedule">
<h4>Schedule<a class="headerlink" href="#schedule" title="Permalink to this headline">¶</a></h4>
<p>Example:</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span><span class="n">MyFunction</span><span class="p">:</span>
  <span class="n">Type</span><span class="p">:</span> <span class="n">AWS</span><span class="p">::</span><span class="n">Serverless</span><span class="p">::</span><span class="n">Function</span>
  <span class="n">Properties</span><span class="p">:</span>
    <span class="o">...</span>
    <span class="n">Events</span><span class="p">:</span>
      <span class="n">MyTimer</span><span class="p">:</span>
        <span class="n">Type</span><span class="p">:</span> <span class="n">Schedule</span>
        <span class="n">Properties</span><span class="p">:</span>
          <span class="n">Input</span><span class="p">:</span> <span class="n">rate</span><span class="p">(</span><span class="mi">5</span> <span class="n">minutes</span><span class="p">)</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Additional generated resources:</p>
<table border="1" class="docutils">
<colgroup>
<col width="49%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">CloudFormation Resource Type</th>
<th class="head">Logical ID</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>AWS::Lambda::Permissions</td>
<td>MyFunction<strong>MyTimer</strong>Permission</td>
</tr>
<tr class="row-odd"><td>AWS::Events::Rule</td>
<td>MyFunction<strong>MyTimer</strong></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="cloudwatchevent">
<h4>CloudWatchEvent<a class="headerlink" href="#cloudwatchevent" title="Permalink to this headline">¶</a></h4>
<p>Example:</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span><span class="n">MyFunction</span><span class="p">:</span>
  <span class="n">Type</span><span class="p">:</span> <span class="n">AWS</span><span class="p">::</span><span class="n">Serverless</span><span class="p">::</span><span class="n">Function</span>
  <span class="n">Properties</span><span class="p">:</span>
    <span class="o">...</span>
    <span class="n">Events</span><span class="p">:</span>
      <span class="n">OnTerminate</span><span class="p">:</span>
        <span class="n">Type</span><span class="p">:</span> <span class="n">CloudWatchEvent</span>
        <span class="n">Properties</span><span class="p">:</span>
          <span class="n">Pattern</span><span class="p">:</span>
            <span class="n">detail</span><span class="p">:</span>
              <span class="n">state</span><span class="p">:</span>
                <span class="o">-</span> <span class="n">terminated</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Additional generated resources:</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">CloudFormation Resource Type</th>
<th class="head">Logical ID</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>AWS::Lambda::Permissions</td>
<td>MyFunction<strong>OnTerminate</strong>Permission</td>
</tr>
<tr class="row-odd"><td>AWS::Events::Rule</td>
<td>MyFunction<strong>OnTerminate</strong></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="aws-serverless-api">
<h2>AWS::Serverless::Api<a class="headerlink" href="#aws-serverless-api" title="Permalink to this headline">¶</a></h2>
<p>In contrast to Implict APIs, you can explicitly define your API resource by providing an entire Swagger definition of
your API.</p>
<p>Example:</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span><span class="n">MyApi</span><span class="p">:</span>
  <span class="n">Type</span><span class="p">:</span> <span class="n">AWS</span><span class="p">::</span><span class="n">Serverless</span><span class="p">::</span><span class="n">Api</span>
  <span class="n">Properties</span><span class="p">:</span>
    <span class="o">...</span>
    <span class="n">DefinitionUri</span><span class="p">:</span> <span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">bucket</span><span class="o">/</span><span class="n">swagger</span><span class="o">.</span><span class="n">json</span>
    <span class="n">StageName</span><span class="p">:</span> <span class="n">dev</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Generated resources:</p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">CloudFormation Resource Type</th>
<th class="head">Logical ID</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>AWS::ApiGateway::RestApi</td>
<td>MyApi</td>
</tr>
<tr class="row-odd"><td>AWS::ApiGateway::Stage</td>
<td>MyApi<strong>dev</strong>Stage</td>
</tr>
<tr class="row-even"><td>AWS::ApiGateway::Deployment</td>
<td>MyApiDeployment<em>SHA</em> (10 Digits of SHA256 of DefinitionUri or DefinitionBody value)</td>
</tr>
</tbody>
</table>
<blockquote>
<div><p>NOTE: By just specifying AWS::Serverless::Api resource, SAM will <em>not</em> add permission for API Gateway to invoke the
the Lambda Function backing the APIs. You should explicitly re-define all APIs under <code class="docutils literal"><span class="pre">Events</span></code> section of the
AWS::Serverless::Function resource but include a <cite>RestApiId</cite> property that references the AWS::Serverless::Api
resource. SAM will add permission for these APIs to invoke the function.</p>
<p>Example:</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span>MyFunction:
  Type: AWS::Serverless::Function
  Properties:
    ...
    Events:
      GetApi:
        Type: Api
        Properties:
          Path: /
          Method: GET

          # This is the property that instructs SAM to just add permissions for an explicitly defined API
          RestApiId: !Ref MyApi
</pre></div>
</div>
</div></blockquote>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../faq.html" class="btn btn-neutral float-right" title="FAQ" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="SAM Internals" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Amazon Web Services.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>